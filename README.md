# EpuBuilder

一个简易的电子书ePub制作器，支持插图。

###使用方法
首先你需要定义一个字典对象，这个字典应该符合以下结构：
```py
BOOK = {
     "meta":{#这本书的元数据
         "title" : '这本书的书名',
         "subtitle" : '这本书的副标题',#可选
         "author" : '这本书的作者',
         "publisher" : '这本书的发行商',
         "ID": '这本书的编号，可以为任意字符（一般为一本书的ISBN）',#可选
         "lang": 'zh-CN'},#语言，可选，默认中文

     "syno": ["这是这本书的简介"],

     "info":{#这本书的基本信息，想写什么就写什么。这一栏下的所有项目皆为可选
         "书名": "这本书的书名",
         "又名": "这本书的又名",
         "译名": "A BOOK",
         "发布日期": "2077年7月7日",
         "评分": "5.0",
         "标签": "R-18  恋爱 冒险  异世界  主角最强",
         "免责声明": "<br/>该电子书仅供学习交流，禁止非法传播或用于商业用途，请在下载后24小时内删除。感谢你的支持。"
     },


     "content":{#从这里开始是正文
         "第一卷的标题":{
             "第一章的标题":['第一个段落','第一个段落',],
             "第二章的标题":['第一个段落','第二个段落',]
         },
         "第二卷的标题":{
             "第一章的标题":['第一个段落','第一个段落',],
             "第二章的标题":['第一个段落','第二个段落',]
         }
     }
 }

```

然后你只需要
```py
BOOKNAME = EpuBuild(BOOK) #创建一个书本类对象（这里的BOOK为上文的字典对象）
BOOKNAME.setCover(r'./cover.jpg') #为这本书添加一个封面（必须）
BOOKNAME.Build() #导出为epub,括号内可以指定导出目录（默认导出目录为当前目录的"./output"）
```
就可以导出一本ePub了

##插图的添加方法

首先你需要在你的段落中添加以下标识： `%img%` `这个图片的文件名（带后缀）` `%/img%`

例如：
```py
['这就是当时的场景:%img%幸福生活插图.jpg%/img%，王子最终和公主过长了幸福快乐的生活。','全书终。']
```

然后，你需要在生成之前指定插图目录
```py
BOOKNAME.setImagedir(r'./images') #括号里面为你想指定的插图目录。默认值为当前目录的 r'./images' 文件夹
```
就可以为你的电子书添加插图了！

需要注意的是，你在段落内写在 `%img%`  `%/img%` 之间的文件名，必须与你指定文件夹里面的图片文件名一致；
且 `%img%`  `%/img%` 之间的文件名必须包含后缀。
否则那张图片会被替换为流泪猫猫头：
![流泪猫猫头 图片](https://github.com/Macaron-Lawrence/EpuBuilder/blob/master/templateFiles/error_404.jpg)


##注意事项及其他
应该没了。